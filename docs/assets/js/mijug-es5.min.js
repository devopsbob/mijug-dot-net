var MIJUGBundle=function(e){"use strict";function o(){"undefined"!=typeof globalThis&&void 0!==globalThis.document&&globalThis.document.querySelectorAll([".highlight pre",".language-liquid .highlight pre","pre.highlight",".language-javascript .highlight pre",".language-yaml .highlight pre",".language-markdown .highlight pre",".language-html .highlight pre",".language-css .highlight pre",".language-scss .highlight pre"].join(", ")).forEach(function(e){e.querySelector('code[class*="language-mermaid"], code.mermaid')||(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)&&(e.setAttribute("tabindex","0"),e.setAttribute("role","group"),e.setAttribute("aria-label","Scrollable code block"),e.addEventListener("keydown",function(o){switch(o.key){case"ArrowLeft":o.ctrlKey&&(e.scrollLeft-=50,o.preventDefault());break;case"ArrowRight":o.ctrlKey&&(e.scrollLeft+=50,o.preventDefault());break;case"ArrowUp":o.ctrlKey&&(e.scrollTop-=20,o.preventDefault());break;case"ArrowDown":o.ctrlKey&&(e.scrollTop+=20,o.preventDefault());break;case"Home":o.ctrlKey&&(e.scrollLeft=0,o.preventDefault());break;case"End":o.ctrlKey&&(e.scrollLeft=e.scrollWidth,o.preventDefault())}}))})}function t(){"undefined"!=typeof globalThis&&void 0!==globalThis.document&&void 0!==globalThis.window&&globalThis.document.querySelectorAll('a, button, input, select, textarea, [role="button"], [role="link"]').forEach(function(e){var o=e.getBoundingClientRect();if(o.width<44||o.height<44){e.style.minWidth="44px",e.style.minHeight="44px";var t=globalThis.window.getComputedStyle(e).padding;t&&"0px"!==t&&"0px 0px"!==t&&"0px 0px 0px 0px"!==t||(e.style.padding="8px")}})}function n(){var e;(null===(e=globalThis.document)||void 0===e?void 0:e.querySelectorAll("pre > code.language-mermaid, pre > code.mermaid").length)>0?setTimeout(function(){o(),t()},2e3):(o(),t())}if("undefined"!=typeof globalThis&&void 0!==globalThis.document&&("loading"===globalThis.document.readyState?globalThis.document.addEventListener("DOMContentLoaded",n):n()),"undefined"!=typeof globalThis&&void 0!==globalThis.window&&"MutationObserver"in globalThis.window){var l=new MutationObserver(function(e){var o=!1;e.forEach(function(e){"childList"===e.type&&e.addedNodes.length>0&&(o=!0)}),o&&setTimeout(n,100)});void 0!==globalThis.document&&l.observe(globalThis.document.body,{childList:!0,subtree:!0})}var i,a=null,r=null,d=null,c=null,s=null;function u(e){var o;"undefined"!=typeof globalThis&&(null===(o=globalThis.window)||void 0===o?void 0:o.requestIdleCallback)?globalThis.window.requestIdleCallback(e,{timeout:1e3}):"undefined"!=typeof setTimeout?setTimeout(e,16):e()}function g(){"undefined"!=typeof globalThis&&void 0!==globalThis.document&&(null!=a||(a=(new Date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})),u(function(){var e;null!=r||(r=function(){var e,o=globalThis.document.querySelector('meta[name="version"]');return null!==(e=null==o?void 0:o.content)&&void 0!==e?e:a}()),null!=d||(d=null!==(e=globalThis.document.title.split(" | ")[0])&&void 0!==e?e:globalThis.document.title),void 0!==globalThis.requestAnimationFrame&&globalThis.requestAnimationFrame(function(){globalThis.document.body.setAttribute("data-print-date",a),globalThis.document.body.setAttribute("data-version",r),globalThis.document.body.setAttribute("data-document-title",d),u(function(){return h(a,r)})})}))}function h(e,o){if("undefined"!=typeof globalThis&&void 0!==globalThis.document){var t=globalThis.document.getElementById("print-date-css");t&&t.remove();var n=globalThis.document.createElement("style");n.id="print-date-css",n.textContent='\n    @media print {\n      @page {\n        @bottom-center {\n          content: "Printed: '.concat(e," | Modified: ").concat(o,'";\n          font-size: 9pt;\n          color: #666;\n        }\n      }\n    }\n  ');var l=globalThis.document.createDocumentFragment();l.appendChild(n),globalThis.document.head.appendChild(l)}}function f(){"undefined"!=typeof globalThis&&void 0!==globalThis.window&&(c&&clearTimeout(c),c=globalThis.window.setTimeout(function(){var e=(new Date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});"undefined"!=typeof globalThis&&void 0!==globalThis.requestAnimationFrame&&void 0!==globalThis.document&&globalThis.requestAnimationFrame(function(){globalThis.document.body.setAttribute("data-print-date",e);var o=null!=r?r:e;u(function(){return h(e,o)})})},10))}"undefined"!=typeof globalThis&&void 0!==globalThis.document&&("loading"===globalThis.document.readyState?globalThis.document.addEventListener("DOMContentLoaded",g,{passive:!0}):u(g)),"undefined"!=typeof globalThis&&void 0!==globalThis.window&&globalThis.window.addEventListener("beforeprint",f,{passive:!0}),"undefined"!=typeof globalThis&&void 0!==globalThis.document&&globalThis.document.addEventListener("keydown",function(e){var o,t;(e.ctrlKey||e.metaKey)&&"p"===e.key&&(s&&clearTimeout(s),s=null!==(t=null===(o=globalThis.window)||void 0===o?void 0:o.setTimeout(f,10))&&void 0!==t?t:0)},{passive:!0}),"function"==typeof SuppressedError&&SuppressedError;var b=null;function p(){return null!=b||(b="undefined"!=typeof globalThis&&void 0!==globalThis.document&&"function"==typeof globalThis.document.hasStorageAccess&&"function"==typeof globalThis.document.requestStorageAccess),b}function m(){return e=this,o=void 0,n=function(){var e,o,t,n,l;return function(e,o){var t,n,l,i={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=r(0),a.throw=r(1),a.return=r(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(r){return function(d){return function(r){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,r[0]&&(i=0)),i;)try{if(t=1,n&&(l=2&r[0]?n.return:r[0]?n.throw||((l=n.return)&&l.call(n),0):n.next)&&!(l=l.call(n,r[1])).done)return l;switch(n=0,l&&(r=[2&r[0],l.value]),r[0]){case 0:case 1:l=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,n=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!((l=(l=i.trys).length>0&&l[l.length-1])||6!==r[0]&&2!==r[0])){i=0;continue}if(3===r[0]&&(!l||r[1]>l[0]&&r[1]<l[3])){i.label=r[1];break}if(6===r[0]&&i.label<l[1]){i.label=l[1],l=r;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(r);break}l[2]&&i.ops.pop(),i.trys.pop();continue}r=o.call(e,i)}catch(d){r=[6,d],n=0}finally{t=l=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,d])}}}(this,function(i){switch(i.label){case 0:if(!p())return console.debug("Storage Access API not supported in this browser"),[2,!1];i.label=1;case 1:return i.trys.push([1,4,,5]),[4,null===(t=(o=globalThis.document).hasStorageAccess)||void 0===t?void 0:t.call(o)];case 2:return i.sent()?(console.debug("Storage access already granted"),[2,!0]):[4,null===(l=(n=globalThis.document).requestStorageAccess)||void 0===l?void 0:l.call(n)];case 3:return i.sent(),console.debug("Storage access granted"),[2,!0];case 4:return e=i.sent(),console.error("Storage access denied or failed:",e),[2,!1];case 5:return[2]}})},new((t=void 0)||(t=Promise))(function(l,i){function a(e){try{d(n.next(e))}catch(o){i(o)}}function r(e){try{d(n.throw(e))}catch(o){i(o)}}function d(e){var o;e.done?l(e.value):(o=e.value,o instanceof t?o:new t(function(e){e(o)})).then(a,r)}d((n=n.apply(e,o||[])).next())});var e,o,t,n}function v(){"undefined"!=typeof globalThis&&void 0!==globalThis.document&&(function(){if("undefined"!=typeof globalThis&&void 0!==globalThis.document&&!globalThis.document.querySelector('meta[http-equiv="Permissions-Policy"]')){var e=globalThis.document.createElement("meta");e.httpEquiv="Permissions-Policy",e.content='storage-access=(self "https://calendar.google.com" "https://www.google.com")',globalThis.document.head.appendChild(e)}}(),"undefined"!=typeof globalThis&&void 0!==globalThis.document&&(globalThis.document.querySelectorAll('[src*="calendar.google.com"], [href*="calendar.google.com"]').forEach(function(e){e.addEventListener("click",function(){m().catch(function(e){console.error("Failed to request storage access:",e)})})}),globalThis.document.querySelectorAll('iframe[src*="calendar.google.com"]').forEach(function(e){e.addEventListener("load",function(){m().catch(function(e){console.error("Failed to request storage access for iframe:",e)})})})),new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){if(e.nodeType===Node.ELEMENT_NODE){var o=e;(o.querySelectorAll?o.querySelectorAll('[src*="calendar.google.com"], [href*="calendar.google.com"]'):[]).forEach(function(e){e.addEventListener("click",function(){m().catch(function(e){console.error("Failed to request storage access for dynamic content:",e)})})})}})})}).observe(globalThis.document.body,{childList:!0,subtree:!0}))}function T(){var e;"undefined"!=typeof globalThis&&(null===(e=globalThis.window)||void 0===e?void 0:e.MIJUG_DISABLE_PRINT)&&"undefined"!=typeof globalThis&&void 0!==globalThis.window&&(globalThis.window.print=function(){console.debug("Print functionality disabled")},globalThis.window.addEventListener("keydown",function(e){var o,t;if(80===e.keyCode&&(e.ctrlKey||e.metaKey)&&!e.altKey&&(!e.shiftKey||void 0!==(null===(o=globalThis.window)||void 0===o?void 0:o.chrome)||void 0!==(null===(t=globalThis.window)||void 0===t?void 0:t.opera)))return e.preventDefault(),void(e.stopImmediatePropagation?e.stopImmediatePropagation():e.stopPropagation());!e.ctrlKey||"p"!==e.key&&"s"!==e.key||e.preventDefault()},!0))}return"undefined"!=typeof globalThis&&void 0!==globalThis.document&&("loading"===globalThis.document.readyState?globalThis.document.addEventListener("DOMContentLoaded",v):v()),"undefined"!=typeof globalThis&&void 0!==globalThis.window&&(globalThis.window.MIJUG=null!==(i=globalThis.window.MIJUG)&&void 0!==i?i:{},globalThis.window.MIJUG.storageAccess={request:m,isSupported:p}),T(),e.maybeDisablePrint=T,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
